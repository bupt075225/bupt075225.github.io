>ocfs2文件系统中有用户文件数据和文件元数据，它是如何为这些数据分配磁盘空间并高效地管理这些空间的呢？

ocfs2文件系统在磁盘上按照特定格式或布局来保存元数据，在使用mkfs.ocfs2命令进行格式化时，初始化部分元数据并写入到磁盘上；文件系统使用过程中，动态增删改元数据及用户数据。

ocfs2将磁盘空间按照block和cluster两个粒度进行划分，数据以cluster的粒度分配空间，元数据以block的粒度分配空间。block可选大小范围是512字节到4K，cluster可选大小范围是4K到1M，。本文以4K block和1M cluster为例。

### superblock

ocfs2的superblock在第2个block之外，比如，block大小为4K，那么superblock起始位置就在8192字节处。